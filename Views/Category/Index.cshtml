@model E_CommerceMVC.ViewModel.ProductViewModel
@{
    ViewData["Title"] = "Products";
}

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
    .sidebar {
        min-height: 100vh;
        background-color: #f8f9fa;
        padding: 1rem;
        border-right: 1px solid #ddd;
    }

    .category-item {
        cursor: pointer;
    }

        .category-item:hover {
            background-color: #e9ecef;
            border-radius: 8px;
        }

    .product-card {
        max-width: 600px;
        margin-top: 2rem;
    }

    .product-img {
        width: 100%;
        border-radius: 10px;
    }

    body {
        margin: 0;
        padding: 0;
        overflow-x: hidden;
    }

    .container-fluid {
        padding-left: 0 !important;
        padding-right: 0 !important;
    }

    .sidebar {
        position: fixed;
        top: 56px; /* adjust to match your navbar height */
        left: 0;
        width: 220px;
        height: calc(100vh - 56px);
        background-color: #f8f9fa;
        border-right: 1px solid #ddd;
        padding: 1rem;
        overflow-y: auto;
    }

    main {
        margin-left: 220px; /* same width as sidebar */
        padding: 2rem;
    }

</style>

<div class="container-fluid">
    <div class="row">
        <nav class="sidebar">
            <h5 class="mb-3">Categories</h5>
            <ul class="list-group">
                @foreach (var category in Model.Categories)
                {
                    <li class="list-group-item category-item" data-category-id="@category.Id">
                        @category.Name
                    </li>
                }
            </ul>
        </nav>

        <main>
            <h3 class="mb-4">Product Details</h3>
            <div id="product-area">
                <!-- product content here -->
            </div>
        </main>
    </div>
</div>


<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<!-- Script to handle category clicks -->
<script>
    document.querySelectorAll('.category-item').forEach(item => {
        item.addEventListener('click', () => {
            const categoryId = item.getAttribute('data-category-id');

            // Load product data via AJAX (MVC Controller Action)
            fetch(`/Product/${categoryId}`)
                .then(response => response.text())
                .then(html => {
                    document.getElementById('product-area').innerHTML = html;
                });
        });
    });
</script>

